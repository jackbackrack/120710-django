{% extends 'market/base.html' %}

{% block title %}{{ artist.name }}{% endblock %}

{% block content %}
<div class="mt-1 px-2 py-2 bg-gray-100 rounded-xl">
  {% if artist.image %}
  <div class="col-span-2">
    <img src="{{ artist.image.url }}" class="rounded-xl" width="300" height="300">
  </div>
  {% endif %}
  <div>
    <h1 class="mb-6 text-3xl">{{ artist.name }}</h1>
    {% if artist.instagram %}
    <p class="text-gray-500 text-sm"><strong>Instagram: </strong><a href="https://instagram.com/{{ artist.instagram|cut:"@" }}">{{ artist.instagram }}</a></p>
    {% endif %}
    {% if artist.website %}
    <p class="text-gray-500 text-sm"><strong>Website: </strong><a href="{{ artist.website }}">{{ artist.website }}</a></p>
    {% endif %}
    {% if artist.bio %}
    <p class="text-gray-500 text-sm"><strong>Bio: </strong>{{ artist.bio }}</p>
    {% endif %}
    {% if artist.statement %}
    <p class="text-gray-500 text-sm"><strong>Statement: </strong>{{ artist.statement }}</p>
    {% endif %}
  </div>
  {% if user.is_authenticated %}
    <a href="{% url 'piece:artist_edit' artist.pk %}">Edit</a>
    <a href="{% url 'piece:artist_delete' artist.pk %}">Delete</a>
  {% endif %}
</div>
<h2>Artworks</h2>
{% if user.is_authenticated %}
  <a href="{% url 'piece:piece_new' %}">New</a>
{% endif %}
<div class="cards">
  {% for piece in artist.pieces.all %}
  <div class="card">
    {% if piece.image %}
    <img src="{{ piece.image.url }}" width="100" height="100" class="card__image">
    {% endif %}
    <div class="card__content">{{ piece.name }}</div>
    <div class="card__info">
      {% if user.is_authenticated %}
      <a href="{% url 'piece:piece_edit' piece.pk %}">Edit</a>
      <a href="{% url 'piece:piece_delete' piece.pk %}">Delete</a>
      {% endif %}
      <a href="{{ piece.get_absolute_url }}">View</a>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
